使用微博登录
微博登录spring social 上有一个社区的包, 这次我来自己写一个. 因为微博的获取用户信息需要uid 和access_token, 所以需要的修改相对github 多了一些.
压缩包weibo4j-oauth2-beta3.1.1.zip 引入的java sdk 是官方网站提供的java api https://github.com/sunxiaowei2014/weibo4j-oauth2-beta3.1.1/


https://api.weibo.com/2/users/show.json 的查询结果的一个示例 :
{
  "id": 2125980182,
  "idstr": "2125980182",
  "class": 1,
  "screen_name": "ntsunxu",
  "name": "ntsunxu",
  "province": "43",
  "city": "1",
  "location": "湖南 长沙",
  "description": "",
  "url": "",
  "profile_image_url": "http://tva2.sinaimg.cn/crop.118.65.297.297.50/7eb7e216jw8f4cdet0auij20ev0bw0t7.jpg",
  "profile_url": "u/2125980182",
  "domain": "",
  "weihao": "",
  "gender": "m",
  "followers_count": 7,
  "friends_count": 7,
  "pagefriends_count": 0,
  "statuses_count": 38,
  "video_status_count": 0,
  "favourites_count": 0,
  "created_at": "Sat Dec 10 18:35:56 +0800 2011",
  "following": false,
  "allow_all_act_msg": false,
  "geo_enabled": true,
  "verified": false,
  "verified_type": -1,
  "remark": "",
  "insecurity": {
    "sexual_content": false
  },
  "status": {
    "created_at": "Wed Jan 20 22:22:08 +0800 2016",
    "id": 3933486513351500,
    "idstr": "3933486513351500",
    "mid": "3933486513351500",
    "can_edit": false,
    "text": "我分享了@地道店 的文章 http://t.cn/RbHlhYi",
    "textLength": 42,
    "source_allowclick": 0,
    "source_type": 1,
    "source": "<a href=\"http://weibo.com/\" rel=\"nofollow\">微博 weibo.com</a>",
    "favorited": false,
    "truncated": false,
    "in_reply_to_status_id": "",
    "in_reply_to_user_id": "",
    "in_reply_to_screen_name": "",
    "pic_urls": [],
    "geo": null,
    "is_paid": false,
    "mblog_vip_type": 0,
    "reposts_count": 0,
    "comments_count": 0,
    "attitudes_count": 0,
    "pending_approval_count": 0,
    "isLongText": false,
    "hide_flag": 0,
    "mlevel": 0,
    "visible": {
      "type": 0,
      "list_id": 0
    },
    "biz_ids": [
      100160
    ],
    "biz_feature": 0,
    "hasActionTypeCard": 0,
    "darwin_tags": [],
    "hot_weibo_tags": [],
    "text_tag_tips": [],
    "mblogtype": 0,
    "rid": "0",
    "userType": 0,
    "more_info_type": 0,
    "positive_recom_flag": 0,
    "content_auth": 0,
    "gif_ids": "",
    "is_show_bulletin": 0,
    "comment_manage_info": {
      "comment_permission_type": -1,
      "approval_comment_type": 0
    }
  },
  "ptype": 0,
  "allow_all_comment": true,
  "avatar_large": "http://tva2.sinaimg.cn/crop.118.65.297.297.180/7eb7e216jw8f4cdet0auij20ev0bw0t7.jpg",
  "avatar_hd": "http://tva2.sinaimg.cn/crop.118.65.297.297.1024/7eb7e216jw8f4cdet0auij20ev0bw0t7.jpg",
  "verified_reason": "",
  "verified_trade": "",
  "verified_reason_url": "",
  "verified_source": "",
  "verified_source_url": "",
  "follow_me": false,
  "like": false,
  "like_me": false,
  "online_status": 0,
  "bi_followers_count": 0,
  "lang": "zh-cn",
  "star": 0,
  "mbtype": 0,
  "mbrank": 0,
  "block_word": 0,
  "block_app": 0,
  "credit_score": 80,
  "user_ability": 0,
  "urank": 5,
  "story_read_state": -1,
  "vclub_member": 0
}